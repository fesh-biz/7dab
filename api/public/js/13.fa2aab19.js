(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{6127:function(s,r,t){"use strict";t.r(r);var e=function(){var s=this,r=s.$createElement,t=s._self._c||r;return t("div",{staticClass:"flex column justify-center q-pa-md",staticStyle:{height:"100vh"}},[t("q-form",{staticClass:"q-gutter-md",on:{submit:s.onSubmit}},[t("q-card",[t("q-card-section",[t("div",{staticClass:"text-h6"},[s._v(s._s(s.$t("reset_password")))])]),t("q-separator"),t("q-card-section",[t("q-input",{attrs:{dusk:"rp-password-input",outlined:"",dense:"",autocomplete:"",type:"password",label:s.$t("password"),error:!!s.validator.errors.password,"error-message":s.validator.errors.password},on:{input:function(r){return s.validator.resetErrors()}},model:{value:s.form.password,callback:function(r){s.$set(s.form,"password",r)},expression:"form.password"}}),t("q-input",{attrs:{dusk:"rp-password-confirmation-input",outlined:"",dense:"",type:"password",label:s.$t("password_confirmation"),autocomplete:"",error:!!s.validator.errors.password_confirmation,"error-message":s.validator.errors.password_confirmation},on:{input:function(r){return s.validator.resetFieldError("password_confirmation")}},model:{value:s.form.password_confirmation,callback:function(r){s.$set(s.form,"password_confirmation",r)},expression:"form.password_confirmation"}}),s.infoMessage?t("q-banner",{staticClass:"text-white bg-positive",attrs:{rounded:"","inline-actions":""}},[s._v("\n          "+s._s(s.infoMessage)+"\n        ")]):s._e(),s.validator.errors.error_message?t("q-banner",{staticClass:"text-white bg-red",attrs:{rounded:"","inline-actions":""}},[s._v("\n          "+s._s(s.validator.errors.error_message)+"\n        ")]):s._e()],1),t("q-separator"),t("q-card-actions",{staticClass:"q-pa-md"},[t("q-btn",{attrs:{dusk:"rp-submit-button",disable:s.formIsBusy,loading:s.formIsBusy,label:s.$t("reset_password"),type:"submit",color:"primary"}})],1)],1)],1)],1)},o=[],a=t("6357"),n=t("ce77"),i=t("891a"),d=t("b65d"),u=t("7a4a"),c=t("77fc");const p={password:"",password_confirmation:""};var l={name:"ResetPassword",data(){return{form:p,formIsBusy:!1,validator:new a["a"](p),infoMessage:null,userApi:new n["a"],tokenCookies:new u["a"],meCookies:new d["a"],api:new c["a"]}},computed:{token(){return this.$router.currentRoute.params.token}},methods:{onSubmit(){this.formIsBusy=!0,this.userApi.passwordReset(this.token,this.form.password,this.form.password_confirmation).then((s=>{this.infoMessage=this.$t("your_password_has_been_successfully_reset")+". "+this.$t("you_ll_be_redirected_in_3_seconds"),this.tokenCookies.set(s.data.token),this.api.setBearer(this.tokenCookies.getAuthorizationToken());const r=s.data.user;this.meCookies.set(r),i["a"].create({data:r}),setTimeout((()=>{this.$router.push({name:"home"})}),3e3)})).catch((s=>{this.formIsBusy=!1,this.validator.setErrors(s)}))}}},m=l,f=t("2877"),w=t("0378"),_=t("f09f"),h=t("a370"),b=t("eb85"),v=t("27f9"),k=t("54e1"),q=t("4b7e"),g=t("9c40"),y=t("eebe"),C=t.n(y),$=Object(f["a"])(m,e,o,!1,null,null,null);r["default"]=$.exports;C()($,"components",{QForm:w["a"],QCard:_["a"],QCardSection:h["a"],QSeparator:b["a"],QInput:v["a"],QBanner:k["a"],QCardActions:q["a"],QBtn:g["a"]})}}]);