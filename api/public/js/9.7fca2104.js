(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{6357:function(r,e,s){"use strict";s.d(e,"a",(function(){return o}));var t=s("8847");class o{constructor(r){this.formModel=r,this.errors={error_message:null},this.formModel&&this.resetErrors()}setError(r,e){this.errors[r]=e[r]?e[r][0]:null}setErrors(r){const e=r.response.data.errors;if(e){for(const s in e)if(e.hasOwnProperty(s)){if("error_message"===s){this.errors.error_message=e[s];continue}this.errors[s]=e[s][0]||e[s]}}else{const e={invalid_grant:t["b"].messages[t["b"].locale].wrong_credentials,invalid_request:t["b"].messages[t["b"].locale].check_your_data},s=r.response.data.error;this.errors.error_message=e[s]||null}}resetFieldError(r,e){this.errors[r]&&(e?"string"===typeof this.errors[r]?this.errors[r]=null:this.errors[r][e]=null:this.errors[r]=null),this.errors.error_message=null}resetErrors(){for(const r in this.formModel)this.formModel.hasOwnProperty(r)&&(this.errors[r]=null)}}},"8ef1":function(r,e,s){"use strict";s.r(e);var t=function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("div",{staticClass:"row justify-center"},[s("div",{staticClass:"col-sm-12 col-xs-12 col-md-6 col-lg-4 col-xl-4"},[s("div",{staticClass:"flex column justify-center q-pa-md",staticStyle:{height:"100vh"}},[s("q-card",[r.isDisplayEmailVerificationMessage?r._e():[s("q-card-section",[s("p",{staticClass:"text-h5"},[r._v(r._s(r.$t("registration")))])]),s("q-separator"),s("q-card-section",[s("q-form",{attrs:{dusk:"r-registration-form"}},[s("q-input",{attrs:{outlined:"",dense:"",dusk:"r-name-input",label:r.$t("user_login"),error:!!r.validator.errors.login,"error-message":r.validator.errors.login},on:{input:function(e){return r.validator.resetFieldError("login")}},model:{value:r.form.login,callback:function(e){r.$set(r.form,"login",e)},expression:"form.login"}}),s("q-input",{attrs:{dusk:"r-email-input",outlined:"",dense:"",autocomplete:"username",label:r.$t("email"),error:!!r.validator.errors.email,"error-message":r.validator.errors.email},on:{input:function(e){return r.validator.resetFieldError("email")}},model:{value:r.form.email,callback:function(e){r.$set(r.form,"email",e)},expression:"form.email"}}),s("q-input",{attrs:{dusk:"r-password-input",outlined:"",dense:"",type:"password",autocomplete:"new-password",label:r.$t("password"),error:!!r.validator.errors.password,"error-message":r.validator.errors.password},on:{input:function(e){return r.validator.resetFieldError("password")}},model:{value:r.form.password,callback:function(e){r.$set(r.form,"password",e)},expression:"form.password"}}),s("q-input",{attrs:{dusk:"r-password-confirmation-input",outlined:"",dense:"",type:"password",autocomplete:"new-password",label:r.$t("password_confirmation"),error:!!r.validator.errors.password_confirmation,"error-message":r.validator.errors.password_confirmation},on:{input:function(e){return r.validator.resetFieldError("password_confirmation")}},model:{value:r.form.password_confirmation,callback:function(e){r.$set(r.form,"password_confirmation",e)},expression:"form.password_confirmation"}})],1)],1),s("q-separator"),s("q-card-section",[s("q-btn",{attrs:{dusk:"r-registration-button",color:"primary",loading:r.isSubmitting,disable:r.isSubmitting,label:r.$t("register")},on:{click:r.submit}})],1)],r.isDisplayEmailVerificationMessage?s("q-card-section",{staticClass:"bg-light-blue-1"},[r._v("\n          "+r._s(r.$t("we_waiting_on_email_verification"))+"\n          "),s("q-item",{staticClass:"bg-light-blue-1",attrs:{to:{name:"home"}}},[s("q-item-section",{staticClass:"text-center"},[r._v("\n              "+r._s(r.$t("home_page"))+"\n            ")])],1)],1):r._e()],2)],1)])])},o=[],i=s("6357"),a=s("891a"),n=s("b65d"),l=s("ce77"),c=s("7a4a"),d=s("77fc");const u={login:null,email:null,password:null,password_confirmation:null};var m={name:"Register",data(){return{form:Object.assign({},u),validator:new i["a"](u),isSubmitting:!1,userApi:new l["a"],tokenCookies:new c["a"],meCookies:new n["a"],api:new d["a"],isDisplayEmailVerificationMessage:!1}},methods:{submit(){this.isSubmitting=!0,this.userApi.register(this.form).then((r=>{this.tokenCookies.set(r.data.token),this.api.setBearer(this.tokenCookies.getAuthorizationToken());const e=r.data.user;this.meCookies.set(e),a["a"].create({data:e}),this.isSubmitting=!1,this.isDisplayEmailVerificationMessage=!0})).catch((r=>{this.validator.setErrors(r),this.isSubmitting=!1}))}}},p=m,f=s("2877"),g=s("f09f"),h=s("a370"),w=s("eb85"),b=s("0378"),_=s("27f9"),v=s("9c40"),k=s("66e5"),q=s("4074"),E=s("eebe"),y=s.n(E),C=Object(f["a"])(p,t,o,!1,null,null,null);e["default"]=C.exports;y()(C,"components",{QCard:g["a"],QCardSection:h["a"],QSeparator:w["a"],QForm:b["a"],QInput:_["a"],QBtn:v["a"],QItem:k["a"],QItemSection:q["a"]})}}]);