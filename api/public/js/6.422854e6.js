(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"7b46":function(e,t,a){"use strict";a("7cd0")},"7cd0":function(e,t,a){},f31f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-posts"},[a("data-table",{ref:"datatable",attrs:{columns:e.columns,url:"admin/posts",rowKey:"id",title:e.title,"use-body":""},scopedSlots:e._u([{key:"table",fn:function(t){return[a("q-tr",[a("q-td",[a("q-item",{attrs:{to:{name:"admin.posts.preview",params:{id:t.props.row.id}},target:"_blank"}},[a("q-item-section",[a("icon-with-tooltip",{attrs:{tooltip:e.$t("preview"),color:"positive",size:"sm",icon:"pageview"}})],1)],1)],1),a("q-td",[e._v("\n          "+e._s(t.props.row.id)+"\n        ")]),a("q-td",[e._v("\n          "+e._s(t.props.row.title)+"\n        ")]),a("q-td",{on:{click:function(a){return e.setPrevData(t.props.row)}}},[e._v("\n          "+e._s(t.props.row.status)+"\n          "),a("q-popup-edit",{attrs:{buttons:""},on:{save:function(a){return e.storeTag(t.props.row,"status")}},model:{value:t.props.row.status,callback:function(a){e.$set(t.props.row,"status",a)},expression:"props.props.row.status"}},[a("status",{attrs:{item:t.props.row,statuses:e.statuses},on:{update:e.updateTableItem}})],1)],1),a("q-td",[e._v("\n          "+e._s(t.props.row.views)+"\n        ")]),a("q-td",[e._v("\n          "+e._s(t.props.row.comments)+"\n        ")]),a("q-td",[e._v("\n          "+e._s(e.moment(t.props.row.created_at).format("YYYY-MM-DD"))+"\n        ")])],1)]}}])})],1)},n=[],o=a("30b7"),l=a("ad45"),i=a("2ef0"),r=a.n(i),p=a("77fc"),d=a("51d9"),u=a("c1df"),c=a.n(u);const m=[{name:"",required:!0,label:"",align:"left",sortable:!0},{name:"id",required:!0,label:"#",align:"left",sortable:!0},{name:"title",required:!0,label:"Title",align:"left",sortable:!0},{name:"status",required:!0,label:"Status",align:"left",sortable:!0},{name:"views",required:!0,label:"Views",align:"left",sortable:!0},{name:"comments",required:!0,label:"Comments",align:"left",sortable:!0},{name:"created_at",required:!0,label:"Created at",align:"left",sortable:!0}];var b={name:"Index",components:{IconWithTooltip:d["a"],DataTable:o["a"],Status:l["a"]},data(){return{columns:m,api:new p["a"],prevData:{},updateUrl:"admin/posts",title:"Posts",moment:c.a,statuses:[{label:"Draft",value:"draft"},{label:"Pending",value:"pending"},{label:"Reviewing",value:"reviewing"},{label:"Approved",value:"approved"},{label:"Declined",value:"declined"},{label:"Editing",value:"editing"}]}},methods:{setPrevData(e){this.prevData=r.a.cloneDeep(e)},updateTableItem(e){const t=r.a.cloneDeep(this.$refs.datatable.data),a=r.a.findIndex(t,{id:e.id});t.splice(a,1,e),this.$refs.datatable.data=t},storeTag(e,t){const a={};a[t]=e[t];const s=`admin/posts/${e.id}`;this.api.post(s,a,null,null,!0).then((()=>{this.$q.notify({message:"Ok",color:"positive"})})).catch((()=>{this.updateTableItem(this.prevData),this.$q.notify({message:"Fail",color:"negative"})}))}}},v=b,f=(a("7b46"),a("2877")),w=a("bd08"),g=a("db86"),q=a("66e5"),_=a("4074"),h=a("42a1"),D=a("eebe"),T=a.n(D),I=Object(f["a"])(v,s,n,!1,null,null,null);t["default"]=I.exports;T()(I,"components",{QTr:w["a"],QTd:g["a"],QItem:q["a"],QItemSection:_["a"],QPopupEdit:h["a"]})}}]);