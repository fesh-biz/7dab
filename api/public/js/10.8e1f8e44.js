(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{6127:function(r,s,e){"use strict";e.r(s);var o=function(){var r=this,s=r.$createElement,e=r._self._c||s;return e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col-sm-12 col-xs-12 col-md-6 col-lg-4 col-xl-4"},[e("div",{staticClass:"flex column justify-center q-pa-md",staticStyle:{height:"100vh"}},[e("q-form",{staticClass:"q-gutter-md",on:{submit:r.onSubmit}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[r._v(r._s(r.$t("reset_password")))])]),e("q-separator"),e("q-card-section",[e("q-input",{attrs:{dusk:"rp-password-input",outlined:"",dense:"",autocomplete:"",type:"password",label:r.$t("password"),error:!!r.validator.errors.password,"error-message":r.validator.errors.password},on:{input:function(s){return r.validator.resetErrors()}},model:{value:r.form.password,callback:function(s){r.$set(r.form,"password",s)},expression:"form.password"}}),e("q-input",{attrs:{dusk:"rp-password-confirmation-input",outlined:"",dense:"",type:"password",label:r.$t("password_confirmation"),autocomplete:"",error:!!r.validator.errors.password_confirmation,"error-message":r.validator.errors.password_confirmation},on:{input:function(s){return r.validator.resetFieldError("password_confirmation")}},model:{value:r.form.password_confirmation,callback:function(s){r.$set(r.form,"password_confirmation",s)},expression:"form.password_confirmation"}}),r.infoMessage?e("q-banner",{staticClass:"text-white bg-positive",attrs:{rounded:"","inline-actions":""}},[r._v("\n              "+r._s(r.infoMessage)+"\n            ")]):r._e(),r.validator.errors.error_message?e("q-banner",{staticClass:"text-white bg-red",attrs:{rounded:"","inline-actions":""}},[r._v("\n              "+r._s(r.validator.errors.error_message)+"\n            ")]):r._e()],1),e("q-separator"),e("q-card-actions",{staticClass:"q-pa-md"},[e("q-btn",{attrs:{dusk:"rp-submit-button",disable:r.formIsBusy,loading:r.formIsBusy,label:r.$t("reset_password"),type:"submit",color:"primary"}})],1)],1)],1)],1)])])},t=[],a=e("6357"),n=e("ce77"),i=e("758b"),l=e("891a"),d=e("b65d"),c=e("7a4a");const u={password:"",password_confirmation:""};var m={name:"ResetPassword",data(){return{form:u,formIsBusy:!1,validator:new a["a"](u),infoMessage:null,userApi:new n["a"],tokenCookies:new c["a"],meCookies:new d["a"]}},computed:{token(){return this.$router.currentRoute.params.token}},methods:{onSubmit(){this.formIsBusy=!0,this.userApi.passwordReset(this.token,this.form.password,this.form.password_confirmation).then((r=>{this.infoMessage=this.$t("your_password_has_been_successfully_reset")+". "+this.$t("you_ll_be_redirected_in_3_seconds"),this.tokenCookies.set(r.data.token),i["a"].defaults.headers.common.Authorization=this.tokenCookies.getAuthorizationToken();const s=r.data.user;this.meCookies.set(s),l["a"].create({data:s}),setTimeout((()=>{this.$router.push({name:"home"})}),3e3)})).catch((r=>{this.formIsBusy=!1,this.validator.setErrors(r)}))}}},p=m,f=e("2877"),h=e("0378"),_=e("f09f"),w=e("a370"),b=e("eb85"),v=e("27f9"),g=e("54e1"),k=e("4b7e"),y=e("9c40"),q=e("eebe"),C=e.n(q),$=Object(f["a"])(p,o,t,!1,null,null,null);s["default"]=$.exports;C()($,"components",{QForm:h["a"],QCard:_["a"],QCardSection:w["a"],QSeparator:b["a"],QInput:v["a"],QBanner:g["a"],QCardActions:k["a"],QBtn:y["a"]})},6357:function(r,s,e){"use strict";e.d(s,"a",(function(){return t}));var o=e("8847");class t{constructor(r){this.formModel=r,this.errors={error_message:null},this.formModel&&this.resetErrors()}setError(r,s){this.errors[r]=s[r]?s[r][0]:null}setErrors(r){const s=r.response.data.errors;if(s){for(const e in s)if(s.hasOwnProperty(e)){if("error_message"===e){this.errors.error_message=s[e];continue}this.errors[e]=s[e][0]||s[e]}}else{const s={invalid_grant:o["b"].messages[o["b"].locale].wrong_credentials,invalid_request:o["b"].messages[o["b"].locale].check_your_data},e=r.response.data.error;this.errors.error_message=s[e]||null}}resetFieldError(r,s){this.errors[r]&&(s?"string"===typeof this.errors[r]?this.errors[r]=null:this.errors[r][s]=null:this.errors[r]=null),this.errors.error_message=null}resetErrors(){for(const r in this.formModel)this.formModel.hasOwnProperty(r)&&(this.errors[r]=null)}}}}]);