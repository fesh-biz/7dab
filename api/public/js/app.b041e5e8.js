(function(e){function t(t){for(var r,s,i=t[0],l=t[1],c=t[2],u=0,d=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);h&&h(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},s={3:0},a={3:0},o=[];function i(e){return l.p+"js/"+({}[e]||e)+"."+{1:"e3aef814",2:"58b54951",4:"45c560c3",5:"86453400",6:"2b11d780",7:"2d8b8107",8:"475faebe",9:"e5346d63",10:"aff89b4e"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={1:1,2:1,4:1,5:1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{1:"a5da3907",2:"1d4d7627",4:"7faf4e8b",5:"7faf4e8b",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0"}[e]+".css",a=l.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var c=o[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===r||u===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],u=c.getAttribute("data-href");if(u===r||u===a)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete s[e],h.parentNode.removeChild(h),n(o)},h.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){s[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(h);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",d.name="ChunkLoadError",d.type=r,d.request=s,n[1](d)}a[e]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var h=u;o.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"13eb":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("0937");class s extends r["a"]{}},"2f39":function(e,t,n){"use strict";n.r(t);n("e6cf"),n("5319"),n("7d6e"),n("e54f"),n("985d"),n("31cd");var r=n("2b0e"),s=n("1f91"),a=n("42d2"),o=n("b05d"),i=n("515f"),l=n("2a19");r["a"].use(o["a"],{config:{},lang:s["a"],iconSet:a["a"],plugins:{Cookies:i["a"],Notify:l["a"]}});var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},u=[],d=n("b65d"),h=n("7a4a"),p=n("ce77"),f=n("891a"),m={name:"App",data(){return{tokenCookies:new h["a"],userApi:new p["a"],meCookies:new d["a"]}},watch:{$route(e,t){this.$route.meta&&this.$route.meta.title?window.document.title=`Starter kit - ${this.$t(this.$route.meta.title)}`:window.document.title="Starter kit"}},created(){this.tokenCookies.getIsExpired()?(this.tokenCookies.delete(),this.meCookies.delete()):f["a"].create({data:this.meCookies.get()})}},g=m,_=n("2877"),w=Object(_["a"])(g,c,u,!1,null,null,null),b=w.exports,y=n("2f62"),v=n("0937"),k=n("5e86"),P=n("9fac"),x=n("d8a1"),T=n("fd15"),C=n("ee7a"),E=n("f67e"),S=n("da61");const A=new v["b"].Database;A.register(C["a"]),A.register(k["a"]),A.register(P["a"]),A.register(E["a"]),A.register(S["a"]),A.register(x["a"]),A.register(f["a"]),A.register(T["a"]);var O=A;r["a"].use(y["a"]);var j=function(){const e=new y["a"].Store({modules:{},plugins:[v["b"].install(O)],strict:!1});return e},M=n("ded3"),L=n.n(M),N=n("8c4f"),$=(n("ddb0"),[{path:"login",name:"login",meta:{title:"login"},component:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"b2c5"))},{path:"register",name:"register",meta:{title:"register"},component:()=>Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"8ef1"))},{path:"forgot-password",name:"forgot_password",component:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"66e9"))},{path:"/auth/reset-password/:token",name:"reset_password",meta:{title:"reset_password"},component:()=>Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"6127"))}]),D=[{path:"/",name:"home",meta:{title:"home_page"},component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"0d8b"))}];const I=new d["a"],z=new h["a"];function J({next:e}){return I.get()&&!z.getIsExpired()?e():e({name:"login"})}var R=[{path:"/posts/create",name:"createPost",meta:{title:"add_post",middleware:[J]},component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"419d"))},{path:"/posts/:id/edit",name:"editPost",meta:{title:"edit_post",middleware:[J]},component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"419d"))},{path:"/posts/:id",name:"postPage",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"bd57"))}];const q=[{path:"/auth",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"713b")),children:$},{path:"/",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"713b")),children:D},{path:"/",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"713b")),children:R},{path:"*",component:()=>Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"e51e"))}];var B=q;r["a"].use(N["a"]);var F=function({store:e,ssrContext:t}){const n=new N["a"]({scrollBehavior:()=>({x:0,y:0}),routes:B,mode:"history",base:"/"});return n.beforeEach(((e,t,n,r)=>{if(!e.meta.middleware)return n();const s=e.meta.middleware,a={to:e,from:t,next:n,store:r};return s[0](L()({},a))})),n},U=async function(){const e="function"===typeof j?await j({Vue:r["a"]}):j,t="function"===typeof F?await F({Vue:r["a"],store:e}):F;e.$router=t;const n={router:t,store:e,render:e=>e(b),el:"#q-app"};return{app:n,store:e,router:t}},V=n("8847"),H=n("758b");let K=null;var Y=async({router:e})=>{K=e},Q=({Vue:e})=>{e.prototype.$cl=e=>{console.log(e)}};const W="/";async function G(){const{app:e,store:t,router:n}=await U();let s=!1;const a=e=>{s=!0;const t=Object(e)===e?n.resolve(e).route.fullPath:e;window.location.href=t},o=window.location.href.replace(window.location.origin,""),i=[V["a"],H["default"],Y,Q];for(let c=0;!1===s&&c<i.length;c++)if("function"===typeof i[c])try{await i[c]({app:e,router:n,store:t,Vue:r["a"],ssrContext:null,redirect:a,urlPath:o,publicPath:W})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==s&&new r["a"](e)}G()},"31cd":function(e,t,n){},"5e86":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("9523"),s=n.n(r),a=n("2ef0"),o=n.n(a),i=n("13eb"),l=n("fd15"),c=n("d8a1"),u=n("9fac"),d=n("f67e"),h=n("ee7a"),p=n("da61");class f extends i["a"]{static fields(){return{id:this.attr(null),user_id:this.attr(null),user:this.belongsTo(l["a"],"user_id"),title:this.string(""),slug:this.string(""),status:this.string(""),tags:this.belongsToMany(c["a"],u["a"],"post_id","tag_id"),post_texts:this.hasMany(d["a"],"post_id"),post_images:this.hasMany(h["a"],"post_id"),post_stat:this.hasOne(p["a"],"post_id")}}get content(){const e=this.post_texts.concat(this.post_images);return o.a.orderBy(e,"order")}}s()(f,"entity","posts")},"758b":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("bc3a"),s=n.n(r),a=n("7a4a");const o=s.a.create({baseURL:"https://terevenky.com/api/"}),i=new a["a"];i.getAuthorizationToken()&&(o.defaults.headers.common.Authorization=i.getAuthorizationToken())},"77fc":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("e6cf");var r=n("758b"),s=n("2a19"),a=n("8847");class o{constructor(){if(o.instance)return o.instance;this.api=r["a"],o.instance=this}get(e,t){return new Promise(((n,r)=>{this.api.get(e,t).then((e=>n(e))).catch((e=>{this.showError(e),r(e)}))}))}post(e,t,n){return new Promise(((r,s)=>{this.api.post(e,t,n).then((e=>r(e))).catch((e=>{this.showError(e),s(e)}))}))}put(e,t,n){return t instanceof FormData?t.append("_method","PUT"):t._method="PUT",new Promise(((r,s)=>{this.api.post(e,t,n).then((e=>r(e))).catch((e=>{this.showError(e),s(e)}))}))}showError(e){const t=e.response.data.error;if(["invalid_grant","invalid_request"].includes(t))return;const n=a["b"].getLocaleMessage(a["b"].locale).something_went_wrong.toString();s["a"].create({message:n,position:"center",color:"negative"})}}},"7a4a":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("515f");class s{constructor(){if(s.instance)return s.instance;s.instance=this}delete(){r["a"].remove("token")}getAuthorizationToken(){let e=null;const t=this.getCookiesData();return t&&t.tokenType&&t.accessToken&&(e=`${t.tokenType} ${t.accessToken}`),e}getCookiesData(){return r["a"].get("token")}getIsExpired(){let e=!1;const t=this.getCookiesData();if(t&&t.expiresIn){const n=Math.floor(Date.now()/1e3),r=86400;t.expiresIn-n<r&&(e=!0)}return e}set(e){e=JSON.stringify({accessToken:e.access_token,expiresIn:Math.floor(Date.now()/1e3)+e.expires_in,refreshToken:e.refresh_token,tokenType:e.token_type}),r["a"].set("token",e,{path:"/"})}}},8847:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var r=n("2b0e"),s=n("a925"),a={tags:"Tags",change_image:"Change Image",all_fields_must_be_filled:"All fields must be filled",edit_post:"Edit Post",max_allowed_filesize:"Max allowed filesize",wrong_image_file_allowed_types:"Wrong image. Allowed types",add_image_label:"Add an image label",add_text:"Add Text",add_image:"Add Image",something_went_wrong:"Something went wrong.",cancel:"Cancel",save:"Save",check_your_data:"Check your data",wrong_credentials:"These credentials do not match our records",you_ll_be_redirected_in_3_seconds:"You'll be redirected in 3 seconds",your_password_has_been_successfully_reset:"Your password has been successfully reset",password_confirmation:"Repeat your password",name:"Name",registration:"Registration",home_page:"Home Page",logout:"Logout",forgot_your_password:"Forgot your password",forgot_your_password_hint:"Forgot your password? No problem. Just let us know your email address and we will email you a password reset link that will allow you to choose a new one.",email_password_reset_link:"Email password reset link",reset_password:"Reset Password",register:"Register",login:"Login",log_in:"Login",submit:"Submit",email:"Email",password:"Password",failed:"Action failed",success:"Action was successful"},o={tags:"Теги",change_image:"Изменить изображение",all_fields_must_be_filled:"Все поля должны быть заполнены",edit_post:"Редактировать пост",max_allowed_filesize:"Максимально допустимый размер",wrong_image_file_allowed_types:"Неверный тип изображения, разрешенные",add_image_label:"Добавить описание к изображению",add_text:"Добавить текст",add_image:"Добавить изображение",something_went_wrong:"Что-то пошло не так, попробуйте повторить позже",cancel:"Отмена",save:"Сохранить",add_section:"Добавить секцию",delete_section:"Удалить секцию",move_vertically:"Переместить по вертикали",title:"Название",post_adding:"Добавление поста",add_post:"Добавить пост",there_is_no_new_posts:"В данной ленте больше нет постов",rating:"Рейтинг",views:"Просмотров",comments:"Комментариев",check_your_data:"Проверьте введенные данные",wrong_credentials:"Пользователь с такими данными не найден",you_ll_be_redirected_in_3_seconds:"Вы будете перенаправлены через 3 секунды",your_password_has_been_successfully_reset:"Вы успешно сменили ваш пароль",password_confirmation:"Повторите пароль",name:"Имя",registration:"Регистрация",home_page:"Главная",logout:"Выйти",forgot_your_password:"Забыли пароль",forgot_your_password_hint:"Забыли свой пароль? Нет проблем. Просто сообщите нам вашу электронную почту и мы вышлем вам ссылку для смены пароля",email_password_reset_link:"Отправить ссылку для сброса",reset_password:"Сбросить пароль",register:"Регистрация",login:"Вход",log_in:"Войти",submit:"Отправить",email:"Email",password:"Пароль",failed:"Потрачено",success:"Успех"},i={en:a,ru:o};r["a"].use(s["a"]);const l=new s["a"]({locale:"ru",fallbackLocale:"ru",messages:i});t["a"]=({app:e})=>{e.i18n=l}},"891a":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9523"),s=n.n(r),a=n("13eb");class o extends a["a"]{static fields(){return{id:this.uid(null),name:this.string(""),email:this.string("")}}}s()(o,"entity","me")},"9fac":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9523"),s=n.n(r),a=n("13eb");class o extends a["a"]{static fields(){return{post_id:this.attr(null),tag_id:this.attr(null)}}}s()(o,"entity","post_tag"),s()(o,"primaryKey",["post_id","tag_id"])},b65d:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("515f");class s{constructor(){if(s.instance)return s.instance;this.me=null,s.instance=this}get(){return this.me||r["a"].get("me")&&(this.me=r["a"].get("me")),this.me}set(e){r["a"].set("me",JSON.stringify(e),{path:"/"}),this.me=e}delete(){r["a"].remove("me"),this.me=null}}},ce77:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("e6cf");var r=n("77fc");class s{constructor(){if(s.instance)return s.instance;this.api=new r["a"],s.instance=this}fetchMe(){return new Promise(((e,t)=>{this.api.get("/me").then((t=>e(t))).catch((e=>{console.error(e),t(t)}))}))}forgotPassword(e){return new Promise(((t,n)=>{this.api.post("password-forgot",{email:e}).then((e=>{t(e)})).catch((e=>{console.error(e),n(e)}))}))}logout(){return new Promise(((e,t)=>{this.api.post("/logout").then((t=>{e(t)})).catch((e=>{console.error(e),t(e)}))}))}passwordReset(e,t,n){return new Promise(((r,s)=>{this.api.post("password-reset",{token:e,password:t,password_confirmation:n}).then((e=>{r(e)})).catch((e=>{console.error(e),s(e)}))}))}register(e){return new Promise(((t,n)=>{this.api.post("register",e).then((e=>{t(e)})).catch((e=>{console.error(e),n(e)}))}))}}},d8a1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9523"),s=n.n(r),a=n("13eb");class o extends a["a"]{static fields(){return{id:this.attr(null),title:this.string(""),slug:this.string(""),body:this.string("")}}}s()(o,"entity","tags")},da61:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9523"),s=n.n(r),a=n("0937");class o extends a["a"]{static fields(){return{id:this.attr(null),post_id:this.number(0),views:this.number(0),positive_votes:this.number(0),negative_votes:this.number(0),comments:this.number(0),created_at:this.attr(""),updated_at:this.attr("")}}get rating(){return this.positive_votes-this.negative_votes}}s()(o,"entity","post_stats")},ee7a:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9523"),s=n.n(r),a=n("13eb");class o extends a["a"]{static fields(){return{id:this.attr(null),post_id:this.number(0),order:this.number(0),original_filename:this.string(""),title:this.attr(null),recognized_text:this.string(""),original_file_path:this.attr(null),desktop_file_path:this.attr(null),mobile_file_path:this.attr(null),data:this.attr(null),created_at:this.string(""),updated_at:this.string(""),type:this.string("image")}}get imageData(){return JSON.parse(this.data)}}s()(o,"entity","post_images")},f67e:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9523"),s=n.n(r),a=n("13eb");class o extends a["a"]{static fields(){return{id:this.attr(null),type:this.string("text"),post_id:this.attr(null),order:this.number(0),body:this.string("")}}}s()(o,"entity","post_texts")},fd15:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9523"),s=n.n(r),a=n("13eb");class o extends a["a"]{static fields(){return{id:this.attr(null),name:this.string(""),rating:this.number(0)}}}s()(o,"entity","users")}});