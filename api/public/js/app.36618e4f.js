(function(e){function t(t){for(var s,o,i=t[0],l=t[1],c=t[2],d=0,u=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);h&&h(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(s=!1)}s&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var s={},o={3:0},r={3:0},a=[];function i(e){return l.p+"js/"+({}[e]||e)+"."+{1:"bb1e1abe",2:"4d2db4eb",4:"a5fd2f53",5:"2f819857",6:"abf800cf",7:"d1870674",8:"d497148a",9:"7fca2104",10:"9bc44034",11:"cbb08a30",12:"c4e0d7a4",13:"a37d7e99",14:"4fbd5ff1",15:"ef0507a7"}[e]+".js"}function l(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={1:1,2:1,4:1,5:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var s="css/"+({}[e]||e)+"."+{1:"a5da3907",2:"1d4d7627",4:"b193cbc9",5:"b193cbc9",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0",11:"31d6cfe0",12:"31d6cfe0",13:"31d6cfe0",14:"31d6cfe0",15:"31d6cfe0"}[e]+".css",r=l.p+s,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var c=a[i],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===s||d===r))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){c=u[i],d=c.getAttribute("data-href");if(d===s||d===r)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var s=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=s,delete o[e],h.parentNode.removeChild(h),n(a)},h.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){o[e]=0})));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var a=new Promise((function(t,n){s=r[e]=[t,n]}));t.push(s[2]=a);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=i(e);var u=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(h);var n=r[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",u.name="ChunkLoadError",u.type=s,u.request=o,n[1](u)}r[e]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},l.m=e,l.c=s,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(n,s,function(t){return e[t]}.bind(null,s));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var h=d;a.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"13eb":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("0937");class o extends s["a"]{}},"2f39":function(e,t,n){"use strict";n.r(t);n("e6cf"),n("5319"),n("7d6e"),n("e54f"),n("985d"),n("31cd");var s=n("2b0e"),o=n("1f91"),r=n("42d2"),a=n("b05d"),i=n("515f"),l=n("2a19");s["a"].use(a["a"],{config:{},lang:o["a"],iconSet:r["a"],plugins:{Cookies:i["a"],Notify:l["a"]}});var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},d=[],u=n("b65d"),h=n("7a4a"),p=n("ce77"),m=n("891a"),f={name:"App",data(){return{tokenCookies:new h["a"],userApi:new p["a"],meCookies:new u["a"]}},watch:{$route(e,t){this.$route.meta&&this.$route.meta.title?window.document.title=`${this.$t(this.$route.meta.title)} - ${this.$t("terevenky")}`:window.document.title=this.$t("terevenky")}},created(){this.tokenCookies.getIsExpired()?(this.tokenCookies.delete(),this.meCookies.delete()):this.meCookies.get()&&m["a"].create({data:this.meCookies.get()})}},_=f,g=n("2877"),w=Object(g["a"])(_,c,d,!1,null,null,null),b=w.exports,y=n("2f62"),v=n("0937"),k=n("5e86"),x=n("9fac"),P=n("d8a1"),C=n("fd15"),E=n("ee7a"),T=n("f67e");const A=new v["b"].Database;A.register(E["a"]),A.register(k["a"]),A.register(x["a"]),A.register(T["a"]),A.register(P["a"]),A.register(m["a"]),A.register(C["a"]);var S=A;s["a"].use(y["a"]);var O=function(){const e=new y["a"].Store({modules:{},plugins:[v["b"].install(S)],strict:!1});return e},j=n("ded3"),$=n.n(j),D=n("8c4f"),N=(n("ddb0"),[{path:"login",name:"login",meta:{title:"login"},component:()=>Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"b2c5"))},{path:"register",name:"register",meta:{title:"register"},component:()=>Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"8ef1"))},{path:"forgot-password",name:"forgot_password",component:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"66e9"))},{path:"/auth/reset-password/:token",name:"reset_password",meta:{title:"reset_password"},component:()=>Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"6127"))}]),q=[{path:"/",name:"home",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"0d8b"))},{path:"/search",name:"search",component:()=>n.e(15).then(n.bind(null,"8acd"))}];const M=new u["a"],L=new h["a"];function z({next:e}){return M.get()&&!L.getIsExpired()?e():e({name:"login"})}var I=[{path:"/posts/create",name:"createPost",meta:{title:"add_post",middleware:[z]},component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"419d"))},{path:"/posts/:id/edit",name:"editPost",meta:{title:"edit_post",middleware:[z]},component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"419d"))},{path:"/posts/:id",name:"postPage",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"bd57"))}];const B=new u["a"],V=new h["a"];function J({next:e}){return B.get()&&!V.getIsExpired()&&1===B.get().role_id?e():e({name:"home"})}var R=[{path:"admin",name:"admin.home",meta:{middleware:[J],title:"home"},component:()=>n.e(13).then(n.bind(null,"5117"))},{path:"admin/tags",name:"admin.tags",meta:{middleware:[J],title:"tags"},component:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"ba2a"))}],F=[{path:"verify-email",name:"verifyEmail",component:()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"0e38"))}];const H=[{path:"/auth",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"713b")),children:N},{path:"/",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"713b")),children:q},{path:"/",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"713b")),children:I},{path:"/",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"713b")),children:F},{path:"/",component:()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"c74f")),children:R},{path:"*",component:()=>Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"e51e"))}];var K=H;s["a"].use(D["a"]);var U=function({store:e,ssrContext:t}){const n=new D["a"]({scrollBehavior:()=>({x:0,y:0}),routes:K,mode:"history",base:"/"});return n.beforeEach(((e,t,n,s)=>{if(!e.meta.middleware)return n();const o=e.meta.middleware,r={to:e,from:t,next:n,store:s};return o[0]($()({},r))})),n},Y=async function(){const e="function"===typeof O?await O({Vue:s["a"]}):O,t="function"===typeof U?await U({Vue:s["a"],store:e}):U;e.$router=t;const n={router:t,store:e,render:e=>e(b),el:"#q-app"};return{app:n,store:e,router:t}},Q=n("8847");let W=null;var G=async({router:e})=>{W=e},X=({Vue:e})=>{e.prototype.$cl=e=>{console.log(e)}};const Z="/";async function ee(){const{app:e,store:t,router:n}=await Y();let o=!1;const r=e=>{o=!0;const t=Object(e)===e?n.resolve(e).route.fullPath:e;window.location.href=t},a=window.location.href.replace(window.location.origin,""),i=[Q["a"],G,X];for(let c=0;!1===o&&c<i.length;c++)if("function"===typeof i[c])try{await i[c]({app:e,router:n,store:t,Vue:s["a"],ssrContext:null,redirect:r,urlPath:a,publicPath:Z})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==o&&new s["a"](e)}ee()},"31cd":function(e,t,n){},"5e86":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var s=n("9523"),o=n.n(s),r=n("2ef0"),a=n.n(r),i=n("13eb"),l=n("fd15"),c=n("d8a1"),d=n("9fac"),u=n("f67e"),h=n("ee7a");class p extends i["a"]{static fields(){return{id:this.attr(null),user_id:this.attr(null),user:this.belongsTo(l["a"],"user_id"),title:this.string(""),status:this.string(""),is_expanded:this.boolean(!1),is_images_loaded:this.boolean(!1),tags:this.belongsToMany(c["a"],d["a"],"post_id","tag_id"),post_texts:this.hasMany(u["a"],"post_id"),post_images:this.hasMany(h["a"],"post_id")}}get content(){const e=this.post_texts.concat(this.post_images);return a.a.orderBy(e,"order")}}o()(p,"entity","posts")},"77fc":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n("e6cf");var s=n("bc3a"),o=n.n(s),r=n("2a19"),a=n("8847"),i=n("7a4a"),l=n("b65d");class c{constructor(){if(c.instance)return c.instance;this.axios=o.a.create({baseURL:"https://terevenky.com/api/",headers:{"Content-Type":"application/json"}}),this.tokenCookies=new i["a"],this.meCookies=new l["a"],this.tokenCookies.getAuthorizationToken()&&this.setBearer(this.tokenCookies.getAuthorizationToken()),c.instance=this}setBearer(e){this.axios.defaults.headers.common.Authorization=e}deleteBearer(){delete this.axios.defaults.headers.common.Authorization}get(e,t){return new Promise(((n,s)=>this.request(e,"get",t).then((e=>n(e))).catch((e=>s(e)))))}post(e,t){return new Promise(((n,s)=>this.request(e,"post",t).then((e=>n(e))).catch((e=>s(e)))))}put(e,t){return new Promise(((n,s)=>this.request(e,"put",t).then((e=>n(e))).catch((e=>s(e)))))}request(t,n,s){"Development"===e.env.ENV_DEV&&(console.log("----rqst start-----"),console.log("requesting url:",t),console.log("method:",n),console.log("params:",s),console.log("----rqst end-----"));const o={url:t,method:n};return["post","put"].includes(n)?o.data=s:o.params=s,new Promise(((t,n)=>{this.axios(o).then((n=>{"Development"===e.env.ENV_DEV&&console.log("res",n),t(n)})).catch((e=>{e.response&&401===e.response.status&&(this.tokenCookies.delete(),this.meCookies.delete()),n(e)}))}))}showError(e){const t=e.response.data.error;if(["invalid_grant","invalid_request"].includes(t))return;const n=a["b"].getLocaleMessage(a["b"].locale).something_went_wrong.toString();r["a"].create({message:n,position:"center",color:"negative"})}}}).call(this,n("4362"))},"7a4a":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("515f");class o{constructor(){if(o.instance)return o.instance;o.instance=this}delete(){s["a"].remove("token",{path:"/"})}getAuthorizationToken(){let e=null;const t=this.getCookiesData();return t&&t.tokenType&&t.accessToken&&(e=`${t.tokenType} ${t.accessToken}`),e}getCookiesData(){return s["a"].get("token")}getIsExpired(){let e=!1;const t=this.getCookiesData();if(t&&t.expiresIn){const n=Math.floor(Date.now()/1e3),s=86400;t.expiresIn-n<s&&(e=!0)}return e}set(e){e=JSON.stringify({accessToken:e.access_token,expiresIn:Math.floor(Date.now()/1e3)+e.expires_in,refreshToken:e.refresh_token,tokenType:e.token_type}),s["a"].set("token",e,{path:"/"})}}},8847:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var s=n("2b0e"),o=n("a925"),r={tags:"Tags",change_image:"Change Image",all_fields_must_be_filled:"All fields must be filled",edit_post:"Edit Post",max_allowed_filesize:"Max allowed filesize",wrong_image_file_allowed_types:"Wrong image. Allowed types",add_image_label:"Add an image label",add_text:"Add Text",add_image:"Add Image",something_went_wrong:"Something went wrong.",cancel:"Cancel",save:"Save",check_your_data:"Check your data",wrong_credentials:"These credentials do not match our records",you_ll_be_redirected_in_3_seconds:"You'll be redirected in 3 seconds",your_password_has_been_successfully_reset:"Your password has been successfully reset",password_confirmation:"Repeat your password",name:"Name",registration:"Registration",home_page:"Home Page",logout:"Logout",forgot_your_password:"Forgot your password",forgot_your_password_hint:"Forgot your password? No problem. Just let us know your email address and we will email you a password reset link that will allow you to choose a new one.",email_password_reset_link:"Email password reset link",reset_password:"Reset Password",register:"Register",login:"Login",log_in:"Login",submit:"Submit",email:"Email",password:"Password",failed:"Action failed",success:"Action was successful"},a={tags:"Теги",change_image:"Изменить изображение",all_fields_must_be_filled:"Все поля должны быть заполнены",edit_post:"Редактировать пост",max_allowed_filesize:"Максимально допустимый размер",wrong_image_file_allowed_types:"Неверный тип изображения, разрешенные",add_image_label:"Добавить описание к изображению",add_text:"Добавить текст",add_image:"Добавить изображение",something_went_wrong:"Что-то пошло не так, попробуйте повторить позже",cancel:"Отмена",save:"Сохранить",add_section:"Добавить секцию",delete_section:"Удалить секцию",move_vertically:"Переместить по вертикали",title:"Название",post_adding:"Добавление поста",add_post:"Добавить пост",there_is_no_new_posts:"В данной ленте больше нет постов",rating:"Рейтинг",views:"Просмотров",comments:"Комментариев",check_your_data:"Проверьте введенные данные",wrong_credentials:"Пользователь с такими данными не найден",you_ll_be_redirected_in_3_seconds:"Вы будете перенаправлены через 3 секунды",your_password_has_been_successfully_reset:"Вы успешно сменили ваш пароль",password_confirmation:"Повторите пароль",name:"Имя",registration:"Регистрация",home_page:"Главная",logout:"Выйти",forgot_your_password:"Забыли пароль",forgot_your_password_hint:"Забыли свой пароль? Нет проблем. Просто сообщите нам вашу электронную почту и мы вышлем вам ссылку для смены пароля",email_password_reset_link:"Отправить ссылку для сброса",reset_password:"Сбросить пароль",register:"Регистрация",login:"Вход",log_in:"Войти",submit:"Отправить",email:"Email",password:"Пароль",failed:"Потрачено",success:"Успех"},i={thanks:"Дякуємо!",we_waiting_on_email_verification:"Ми надіслали вам листа з інструкціями для підтвердження email. Якщо ви не бачите листа, обов'язково перевірте папку Спам.",email_verification:"Верифікація вашого Email",your_email_verified:"Ваш Email підтверджено",expand:"Розгорнути",search:"Пошук",home:"Головна",user_login:"Логін",terevenky:"Теревеньки",tags:"Теги",change_image:"Змінити зображення",all_fields_must_be_filled:"Усі поля мають бути заповнені",edit_post:"Редагувати теревеньку",max_allowed_filesize:"Максимально допустимий розмір",wrong_image_file_allowed_types:"Невірний тип зображення, допустимі",add_image_label:"Додати опис к зображенню",add_text:"Додати текст",add_image:"Додати зображення",something_went_wrong:"От халепа, щось трапилось",cancel:"Скасувати",save:"Зберегти",add_section:"Додати секцію",delete_section:"Видалити секцію",move_vertically:"Перемістити по вертикалі",title:"Назва",post_adding:"Додавання теревеньки",add_post:"Додати теревеньку",there_is_no_new_posts:"Немає більше теревеньок",rating:"Рейтинг",views:"Переглядів",comments:"Коментарів",check_your_data:"Перевірте введені дані",wrong_credentials:"Користувача з такими даними не існує",you_ll_be_redirected_in_3_seconds:"Ви будете перенаправлені через 3 секунди",your_password_has_been_successfully_reset:"Ваш пароль було змінено",password_confirmation:"Повторіть пароль",name:"Ім'я",registration:"Реєстрація",home_page:"Головна",logout:"Вийти",forgot_your_password:"Забули пароль",forgot_your_password_hint:"Забули свій пароль? Немає проблем. Просто скажіть нам вашу електронну пошту і ми надішлемо вам посилання для зміни пароля",email_password_reset_link:"Надіслати посилання для скидання",reset_password:"Скинути пароль",register:"Реєстрація",login:"Вход",log_in:"Увійти",submit:"Надіслати",email:"Email",password:"Пароль",failed:"Халепа",success:"Успіх"},l={en:r,ru:a,ua:i};s["a"].use(o["a"]);const c=new o["a"]({locale:"ua",fallbackLocale:"ua",messages:l});t["a"]=({app:e})=>{e.i18n=c}},"891a":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("9523"),o=n.n(s),r=n("13eb");class a extends r["a"]{static fields(){return{id:this.uid(null),login:this.string(""),email:this.string(""),role_id:this.number(0)}}}o()(a,"entity","me")},"9fac":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("9523"),o=n.n(s),r=n("13eb");class a extends r["a"]{static fields(){return{post_id:this.attr(null),tag_id:this.attr(null)}}}o()(a,"entity","post_tag"),o()(a,"primaryKey",["post_id","tag_id"])},b65d:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("515f");class o{constructor(){if(o.instance)return o.instance;this.me=null,o.instance=this}get(){return this.me||s["a"].get("me")&&(this.me=s["a"].get("me")),this.me}set(e){s["a"].set("me",JSON.stringify(e),{path:"/"}),this.me=e}delete(){s["a"].remove("me",{path:"/"}),this.me=null}}},ce77:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("e6cf");var s=n("77fc");class o{constructor(){if(o.instance)return o.instance;this.api=new s["a"],o.instance=this}fetchMe(){return new Promise(((e,t)=>{this.api.get("/me").then((t=>e(t))).catch((e=>{console.error(e),t(t)}))}))}forgotPassword(e){return new Promise(((t,n)=>{this.api.post("password-forgot",{email:e}).then((e=>{t(e)})).catch((e=>{console.error(e),n(e)}))}))}logout(){return new Promise(((e,t)=>{this.api.post("/logout").then((t=>{e(t)})).catch((e=>{console.error(e),t(e)}))}))}passwordReset(e,t,n){return new Promise(((s,o)=>{this.api.post("password-reset",{token:e,password:t,password_confirmation:n}).then((e=>{s(e)})).catch((e=>{console.error(e),o(e)}))}))}register(e){return new Promise(((t,n)=>{this.api.post("register",e).then((e=>{t(e)})).catch((e=>{console.error(e),n(e)}))}))}verifyEmail(e){return new Promise(((t,n)=>{this.api.post("verify-email",{token:e}).then((e=>t(e))).catch((e=>n(e)))}))}}},d8a1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("9523"),o=n.n(s),r=n("13eb");class a extends r["a"]{static fields(){return{id:this.attr(null),title:this.string(""),body:this.string("")}}}o()(a,"entity","tags")},ee7a:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("9523"),o=n.n(s),r=n("13eb");class a extends r["a"]{static fields(){return{id:this.attr(null),post_id:this.number(0),order:this.number(0),original_filename:this.string(""),title:this.attr(null),recognized_text:this.string(""),original_file_path:this.attr(null),desktop_file_path:this.attr(null),mobile_file_path:this.attr(null),data:this.attr(null),created_at:this.string(""),updated_at:this.string(""),type:this.string("image")}}get imageData(){return JSON.parse(this.data)}}o()(a,"entity","post_images")},f67e:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("9523"),o=n.n(s),r=n("13eb");class a extends r["a"]{static fields(){return{id:this.attr(null),type:this.string("text"),post_id:this.attr(null),order:this.number(0),body:this.string("")}}}o()(a,"entity","post_texts")},fd15:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("9523"),o=n.n(s),r=n("13eb");class a extends r["a"]{static fields(){return{id:this.attr(null),login:this.string("")}}}o()(a,"entity","users")}});